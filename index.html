<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quest Map</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
</head>
<body>

<div id="map-container">
    <img id="map-image" src="map.jpg" alt="World Map">

   <!-- quests for map1 painter's path-->
    <div class="hotspot debug" data-map="map1" style="top:51.5%; left:48%;" data-city="quest1"></div>
    <div class="hotspot debug" data-map="map1" style="top:47.5%; left:35%;" data-city="quest2"></div>
    <div class="hotspot debug" data-map="map1" style="top:59.5%; left:35%;" data-city="quest3"></div>
    <div class="hotspot debug" data-map="map1" style="top:67%; left:30%;" data-city="quest4"></div>
    <div class="hotspot debug" data-map="map1" style="top:57.5%; left:23.5%;" data-city="quest5"></div>
    <div class="hotspot debug" data-map="map1" style="top:43.5%; left:23%;" data-city="quest8"></div>
    <div class="hotspot debug" data-map="map1" style="top:39.5%; left:65%;" data-city="quest6"></div>
    <div class="hotspot debug" data-map="map1" style="top:47%; left:9%;" data-city="quest7"></div>
    <div class="hotspot debug" data-map="map1" style="top:41%; left:28%;" data-city="quest9"></div>
    <div class="hotspot debug" data-map="map1" style="top:22%; left:33%;" data-city="quest10"></div>
    <div class="hotspot debug" data-map="map1" style="top:72.5%; left:20%;" data-city="quest11"></div>
    <div class="hotspot debug" data-map="map1" style="top:37.3%; left:55.2%;" data-city="quest13"></div>
    <div class="hotspot debug" data-map="map1" style="top:29.5%; left:44%;" data-city="quest14"></div>
    <div class="hotspot debug" data-map="map1" style="top:39.5%; left:40.5%;" data-city="quest15"></div>
    <div class="hotspot debug" data-map="map1" style="top:52.5%; left:72.5%;" data-city="quest19"></div>
    <div class="hotspot debug" data-map="map1" style="top:36.5%; left:64.5%;" data-city="quest33"></div>
    <div class="hotspot debug" data-map="map1" style="top:35%; left:11%;" data-city="quest34"></div>
    <div class="hotspot debug" data-map="map1" style="top:72.5%; left:84.5%;" data-city="quest35"></div>
    <div class="hotspot debug" data-map="map1" style="top:54%; left:84%;" data-city="quest36"></div>
    <div class="hotspot debug" data-map="map1" style="top:51.5%; left:62%;" data-city="quest37"></div>
    <div class="hotspot debug" data-map="map1" style="top:9.8%; left:76%;" data-city="quest51"></div>
    <div class="hotspot debug" data-map="map1" style="top:5%; left:46.5%;" data-city="quest52"></div>
    <div class="hotspot debug" data-map="map1" style="top:91.5%; left:78%;" data-city="quest55"></div>
    <div class="hotspot debug" data-map="map1" style="top:93.5%; left:96%;" data-city="quest64"></div>
    <div class="hotspot debug" data-map="map1" style="top:8.3%; left:63%;" data-city="quest66"></div>
    <div class="hotspot debug" data-map="map1" style="top: 93.2%; left:58.5%;" data-city="quest69"></div>


    <!--quests for map1 sketcher's path-->
    <div class="hotspot debug" data-map="map1" style="top:71.5%; left:60%;" data-city="quest12"></div>
    <div class="hotspot debug" data-map="map1" style="top:61.5%; left:70.5%;" data-city="quest18"></div>
    <div class="hotspot debug" data-map="map1" style="top:53.8%; left:67.5%;" data-city="quest20"></div>
    <div class="hotspot debug" data-map="map1" style="top:31%; left:89.5%;" data-city="quest21"></div>
    <div class="hotspot debug" data-map="map1" style="top:46.5%; left:92%;" data-city="quest29"></div>
    <div class="hotspot debug" data-map="map1" style="top:84.5%; left:98%;" data-city="quest30"></div>
    <div class="hotspot debug" data-map="map1" style="top:72.5%; left:76%;" data-city="quest39"></div>
    <div class="hotspot debug" data-map="map1" style="top:26%; left:23%;" data-city="quest41"></div>
    <div class="hotspot debug" data-map="map1" style="top:36.5%; left:45.5%;" data-city="quest42"></div>
    <div class="hotspot debug" data-map="map1" style="top:67%; left:90%;" data-city="quest43"></div>
    <div class="hotspot debug" data-map="map1" style="top:13.3%; left:83.5%;" data-city="quest44"></div>
    <div class="hotspot debug" data-map="map1" style="top:7.8%; left:22%;" data-city="quest45"></div>
    <div class="hotspot debug" data-map="map1" style="top:17.5%; left:73.5%;" data-city="quest46"></div>
    <div class="hotspot debug" data-map="map1" style="top:45%; left:74.5%;" data-city="quest47"></div>
    <div class="hotspot debug" data-map="map1" style="top:60.5%; left:82.5%;" data-city="quest48"></div>

    
    <!--quests for map2 watercolour's path-->
    <div class="hotspot debug" data-map="map2" style="top:16%; left:80%;" data-city="quest16"></div>
    <div class="hotspot debug" data-map="map2" style="top:44.5%; left:44.5%;" data-city="quest17"></div>
    <div class="hotspot debug" data-map="map2" style="top:13%; left:50.5%;" data-city="quest22"></div>
    <div class="hotspot debug" data-map="map2" style="top:38%; left:70%;" data-city="quest23"></div>
    <div class="hotspot debug" data-map="map2" style="top:48.5%; left:39.5%;" data-city="quest24"></div>
    <div class="hotspot debug" data-map="map2" style="top:62%; left:59.5%;" data-city="quest25"></div>
    <div class="hotspot debug" data-map="map2" style="top:52%; left:50.5%;" data-city="quest26"></div>
    <div class="hotspot debug" data-map="map2" style="top:38.5%; left:48.5%;" data-city="quest27"></div>
    <div class="hotspot debug" data-map="map2" style="top:22%; left:35%;" data-city="quest32"></div>
    <div class="hotspot debug" data-map="map2" style="top:29%; left:96%;" data-city="quest49"></div>
    <div class="hotspot debug" data-map="map2" style="top:26.5%; left:94.2%;" data-city="quest50"></div>


    <!--quests for map3 3D Artist's path-->
    <div class="hotspot debug" data-map="map3" style="top:12.2%; left:3%;" data-city="quest53"></div>
    <div class="hotspot debug" data-map="map3" style="top:20%; left:85%;" data-city="quest54"></div>
    <div class="hotspot debug" data-map="map3" style="top:68%; left:40%;" data-city="quest56"></div>
    <div class="hotspot debug" data-map="map3" style="top:61%; left:11%;" data-city="quest57"></div>
    <div class="hotspot debug" data-map="map3" style="top:83%; left:22%;" data-city="quest58"></div>
    <div class="hotspot debug" data-map="map3" style="top:33.5%; left:8%;" data-city="quest59"></div>
    <div class="hotspot debug" data-map="map3" style="top:54.3%; left:52%;" data-city="quest60"></div>
    <div class="hotspot debug" data-map="map3" style="top:17.5%; left:13%;" data-city="quest61"></div>
    <div class="hotspot debug" data-map="map3" style="top:95.5%; left:82.5%;" data-city="quest62"></div>
    <div class="hotspot debug" data-map="map3" style="top:19.5%; left:41.5%;" data-city="quest63"></div>
    <div class="hotspot debug" data-map="map3" style="top:52%; left:21%;" data-city="quest67"></div>
    <div class="hotspot debug" data-map="map3" style="top:88.5%; left:9%;" data-city="quest68"></div>
</div>

<!-- Dropdown menu container -->
<div id="dropdown-container">
    <select id="path-selector">
        <option value="">Select a Path</option>
        <option value="paintersPath">Painter's Path</option>
        <option value="sketcherPath">Sketcher's Path</option>
        <option value="watercoloursPath">Watercolourist's Path</option>
        <option value="3DPath">3D Artist's Path</option>
    </select>

    <select id="mvp-quests" style="display:none;">
        <option value="">Select MVP Quest</option>
    </select>
        <!-- map change functionality-->
   <div id="map-switcher">
        <select id="map-selector">
        <option value="map1">Painting Wing</option>
        <option value="map2">Watercolor Wing</option>
        <option value="map3">3D World</option>

        <!-- Add future maps here -->
    </select>

        <!--search engine info-->
    <div id="quest-search-container">
        <input
            type="text"
            id="quest-search"
            placeholder="Search quest"
            autocomplete="off"/>
    <div id="quest-search-results"></div>
    </div>
</div>    
</div>

<!-- Quest pop up -->
<div id="quest-overlay">
    <div id="quest-box">
        <span id="close-quest" onclick="closeQuest()">‚úñ</span>
        <!-- First row: Painter path, timer button, completed checkbox, difficulty -->
        <div class="quest-row">
            <div class="quest-cell">
                <strong> Paths:</strong>
                <span id="quest-paths"></span>
            </div>


            <div class="quest-cell check-cell">
                <strong>Completed</strong>
                <input type="checkbox" id="quest-check" />
            </div>

            <div class="quest-cell difficulty">
                <strong>Difficulty:</strong>
                <span class="stars"></span>
            </div>
        </div>

        <!-- Second row: Quest title -->
        <div class="quest-row">
            <div class="quest-cell full">
                <h2 id="quest-title"></h2>
                
            </div>
            <div class="quest-cell timer-cell">
                <strong>Timer:</strong>
                <div class="timer-controls">
                    <button id="quest-accept" class="timer-accept-btn">Accept Quest</button>
                    <div id="timer-display" class="timer-display">--:--</div>
                </div>
            </div>


            <div class="quest-cell rationale-cell">
                <h2 id="quest-rationale"></h2>
            </div>
        </div>

        <!-- Third row: Image, description, requirements -->
         
        <div class="quest-row">
            <div class="quest-cell image-cell">
                <img id="quest-character" />
            </div>

            <div class="quest-cell description-cell">
                <p id="quest-text"></p>
            </div>

            <div class="quest-cell requirements-cell">
                <p id="quest-requirements"></p>
            </div>
        </div>

        <!-- Fourth row: Rubric and prerequisites/leads tabs -->
        <div class="quest-row">
            <div class="quest-cell rubric-cell">
                <p id="quest-rubric"></p>
            </div>

            
            <div class="quest-cell prereq-leads">
                <!-- Tab buttons -->
                <div class="tabs">
                    <button class="tab-button active" data-tab="prereq">Prerequisites (formative)</button>
                    <button class="tab-button" data-tab="leads">Leads To (Summative)</button>
                </div>

                <!-- Tab content -->
                <div class="tab-content" id="tab-prereq">
                    <ul id="quest-prereq-leads-prereq">
                        <li>None</li>
                    </ul>
                </div>

                <div class="tab-content" id="tab-leads" style="display: none">
                    <ul id="quest-prereq-leads-to">
                        <li>None</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Fifth row: Links and Reward -->
        <div class="quest-row">
            <div class="quest-cell links-cell">
                <ul id="quest-links"></ul>
            </div>

            <div class="quest-cell reward-cell">
                <strong>Reward</strong>
                <p id="quest-reward"></p>
            </div>
        </div>

    </div>
</div>

<!-- WELCOME OVERLAY------------------------------------------------------------------>
<div id="welcome-overlay" class="welcome-overlay">
  <div class="welcome-scroll">
    <div class="scroll-top"></div>
    <div class="scroll-body">
        <h1>Welcome to Artheim</h1>
        <p>Welcome, traveler, to Artheim ‚Äî the Realm of Art, where every brushstroke is a spell and every sketch is a map to a new world.</p>
        <p></p>
        <p>Here, the old masters still whisper in the wind, and the elements themselves answer only to those who dare to create. You are not merely a student; you are an apprentice of the unseen, a seeker of form, color, and meaning.</p>
        <p></p>
        <p>Across this realm, quests await you‚Äîeach one a challenge forged to sharpen your skills, deepen your vision, and awaken the artist within. From the quiet discipline of drawing to the wild alchemy of paint, from the solid truth of sculpture to the delicate flow of watercolor, you will face trials that test your patience, your imagination, and your courage.</p>
        <p></p>
        <p>But fear not. You will not travel alone. Guides, mentors, and the spirits of creativity will stand beside you, offering knowledge and inspiration. With every quest completed, your power grows: your hand becomes steadier, your eye becomes keener, and your voice becomes more confident.</p>
        <p></p>
        <p>So step forward, brave artist. The gates of Artheim are open.</p>
        <p>Choose your path, accept your quest, and begin the journey that will transform you.</p>
        <p></p>
        <p>The realm awaits your masterpiece.</p>
        <button id="welcome-close">Enter</button>
    </div>
    <div class="scroll-bottom"></div>
   </div>
</div>
<!-- STUDENT SETUP POPUP ------------------------------------------------------------->
<div id="student-setup-overlay" class="welcome-overlay" style="display:none;">
  <div class="welcome-scroll">
    <div class="scroll-body">
      <h1>Welcome, Artist!</h1>
      <p>Please enter your name to begin.</p>

      <input id="student-name-input" type="text" placeholder="Enter your name" />

      <button id="student-name-submit">Next</button>

      <div id="character-selection" style="display:none;">
        <h2>Choose your character</h2>
        <div id="characters-list"></div>
      </div>
    </div>
  </div>
</div>
<!--Rationale pop up------------------------------------------------------------------->
<div id="rationale-overlay" class="welcome-overlay">
  <div class="welcome-scroll">
    <div class="scroll-body">
      <h1 id="rationale-title"></h1>
      <div id="rationale-content"></div>
      <button id="rationale-close">Close</button>
    </div>
  </div>
</div>
<!--parchment sound-->
<audio id="unroll-sound" src="unroll.m4a" preload="auto"></audio>

<!-- Achievements Button -->
<button id="achievements-btn" class="achievements-btn">üèÜ Achievements</button>

<!-- Achievements Popup -->
<div id="achievements-overlay" class="quest-overlay">
  <div class="quest-box">
    <span id="close-achievements" class="close-btn">‚úñ</span>

    <div class="achievements-tabs">
      <button class="tab-button active" data-tab="completed">Completed Quests</button>
      <button class="tab-button" data-tab="achievements">Achievements</button>
      <button class="tab-button" data-tab="questlist">Quest List</button>
    </div>

    <div class="tab-content" id="tab-completed">
      <div id="completed-quests-grid" class="completed-grid"></div>
    </div>

    <div class="tab-content" id="tab-achievements" style="display:none;">
      <div id="achievements-list"></div>
    </div>
    <div class="tab-content" id="tab-questlist" style="display:none;">
      <!-- Filter Controls -->
      <div class="questlist-filters">
        <div class="filter-group">
          <label>Filter by:</label>
          <select id="questlist-filter">
            <option value="all">All Quests</option>
            <option value="active">Active Quests (with timer)</option>
            <option value="paintersPath">Painting Path</option>
            <option value="sketcherPath">Sketching Path</option>
            <option value="watercoloursPath">Watercolor Path</option>
            <option value="3DPath">3D Path</option>
          </select>
        </div>
        <div class="filter-stats">
          <span id="questlist-count">0 quests</span>
        </div>
      </div>
      
      <!-- Quest List Container -->
      <div id="questlist-container" class="questlist-container">
        <!-- Quests will be dynamically populated here -->
      </div>
    </div>
  </div>
</div>
<!-- Rubric Overlay -->
<div id="rubric-overlay" class="quest-overlay" style="display:none;">
  <div class="quest-box rubric-box">
    <span class="close-btn" id="close-rubric">‚úñ</span>

    <h2 id="rubric-title">Rubric</h2>
    <div id="rubric-content"></div>
  </div>
</div>
<!--PROFILE====================================================================-->
<!-- PROFILE BUTTON -->
<button id="profile-btn" class="profile-btn">
  <img src="profile.png" alt="Profile" />
</button>

<!-- PROFILE POPUP -->
<div id="profile-overlay" class="overlay" style="display:none;">
    <div id="profile-popup" class="popup">
        <h2 class="profile-title">Student's Profile</h2>

    <button id="profile-close" class="close-btn">√ó</button>

    <div class="profile-grid">
      <!-- LEFT COLUMN -->
      <div class="profile-left">
          <div class="avatar-wrapper">
            <img id="student-avatar" src="profile.png" alt="avatar">
            <button id="change-avatar-btn" class="avatar-gear">‚öôÔ∏è</button>
          </div>
          <div id="student-name" class="student-name"></div>
          <div class="profile-left">  
          <div class="profile-action-buttons">
            <button id="save-profile-btn" class="profile-btn-small save-btn"> üíæ Save</button>
            <label for="load-profile-input" class="profile-btn-small load-btn">üìÇ Load
            <input type="file" id="load-profile-input" accept=".json" class="file-input-hidden"></label>
          </div>
          </div>
          <div class="profile-money">
          <span class="money-icon">Reward:</span>
          <span id="profile-total-coins" class="money-amount">0</span>
        </div>

           <button id="deduct-rewards-btn" class="deduct-btn" title="Teacher only - Deduct spent rewards">
        üí∏ Deduct Rewards
    </button>

        <button id="restart-tour-btn" class="tour-btn">üîÑ Tour</button>
      </div>
    <!-- CENTER COLUMN -->
    <div class="profile-center" id="radar-chart-container">
    <canvas id="radar-chart"></canvas>
    <div id="radar-tooltip" class="radar-tooltip"></div>
    </div>


<!-- RIGHT COLUMN -->
<div class="profile-right">
  <h3>Art Standards</h3>

  <ul id="standards-list">
    <!-- Art Standards go here -->
  </ul>

  <!-- New Table below art standards -->
  <table id="standards-table">
    <thead>
      <tr>
        <th>Standard</th>
        <th>Grade</th>
      </tr>
    </thead>
    <tbody>
      <tr data-standard="Art.FA.CR.1.1.IA">
        <td>Generate</td>
        <td></td>
      </tr>
  
      <tr data-standard="Art.FA.CR.1.2.IA">
        <td>Practice</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.CR.2.1.IA">
        <td>Explore</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.CR.2.3.IA">
        <td>Transform</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.CR.3.1.IA">
        <td>Reflect</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.PR.6.1.IA">
        <td>Analyze</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.RE.8.1.8A">
        <td>Interpret</td>
        <td></td>
      </tr>
      <tr data-standard="Art.FA.CN.10.1.IA">
        <td>Document</td>
        <td></td>
      </tr>
    </tbody>
  </table>
</div>
</div>
</div> <!-- end profile-grid -->
</div> <!-- end profile-popup -->
</div> <!-- end profile-overlay -->

<!-- Welcome Tour - Integrated into map -->
<div id="welcome-tour-container" style="display: none;">
  <!-- Tour Image - positioned absolutely -->
  <div id="welcome-tour-image-wrapper">
    <img id="welcome-tour-image" src="" alt="Tour guide">
  </div>
  
  <!-- Talk Bubble -->
  <div id="welcome-tour-talk-bubble">
    <div id="welcome-tour-text">Welcome to your art adventure! Let me show you around...</div>
    <div id="welcome-tour-counter">1/8</div>
    <div id="welcome-tour-controls">
      <button id="welcome-tour-prev">‚Üê Previous</button>
      <button id="welcome-tour-next">Next ‚Üí</button>
      <button id="welcome-tour-skip">Skip Tour</button>
      <button id="welcome-tour-finish" style="display: none;">Finish Tour</button>
    </div>
  </div>
</div>
<script src="script.js"></script>
</body>
</html>